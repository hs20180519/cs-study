# 00. ê°œìš”

- ëŸ°íƒ€ì„ ì¤‘ì— ì•Œê³ ë¦¬ì¦˜ ì „ëµì„ ì„ íƒí•˜ì—¬, **ê°ì²´ ë™ì‘ì„ ë™ì ìœ¼ë¡œ ë°”ë€Œë„ë¡** í•  ìˆ˜ ìˆëŠ” **í–‰ìœ„ ë””ìì¸ íŒ¨í„´**
- ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ë¡œì§ì´ ì—¬ëŸ¬ê°€ì§€ì¼ ë•Œ, ì•Œê³ ë¦¬ì¦˜ ë³€í˜•ì´ ë¹ˆë²ˆí•˜ê²Œ í•„ìš”í•œ ê²½ìš°ì— ì í•©
    
    â†’ ë™ì‘ë“¤ì„ ë¯¸ë¦¬ ì „ëµ í´ë˜ìŠ¤ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ ì‰½ê²Œ ì „ëµì„ êµì²´í•  ìˆ˜ ìˆìŒ
    

<img width="719" alt="Image" src="https://github.com/user-attachments/assets/0a1dd17b-c0f9-4150-a75c-defb0b5112d1" />

- ì „ëµ ì•Œê³ ë¦¬ì¦˜ ê°ì²´ë“¤: ì•Œê³ ë¦¬ì¦˜, í–‰ìœ„, ë™ì‘ì„ ê°ì²´ë¡œ ì •ì˜í•œ êµ¬í˜„ì²´
- Strategy ì¸í„°í˜ì´ìŠ¤: ëª¨ë“  ì „ëµ êµ¬í˜„ì²´ë¥¼ ì¶”ìƒí™”í•œ ì¸í„°í˜ì´ìŠ¤
- Context
    - ì•Œê³ ë¦¬ì¦˜ì„ ì‹¤í–‰í•´ì•¼ í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ê³¼ ì—°ê²°ëœ ì „ëµ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œ
    - ì „ëµ ê°ì²´ë¥¼ í•¸ë“¤ë§í•˜ëŠ” ì ‘ê·¼ ìˆ˜ë‹¨
- Client: íŠ¹ì • ì „ëµ ê°ì²´ë¥¼ contextì— ì „ë‹¬í•˜ì—¬ ì „ëµì„ ë“±ë¡/ë³€ê²½/ì‹¤í–‰í•¨

## ì˜ˆì œ: ê¸°ì°¨ì™€ ë²„ìŠ¤

<img width="652" alt="Image" src="https://github.com/user-attachments/assets/d048d3c0-56c8-4c7e-8f50-65b4c8d388d4" />

```java
public interface Movable{
		public void move();
}
```

```java
public class Train implements Movable {
		public void move() {
				System.out.println("ì„ ë¡œë¥¼ í†µí•´ ì´ë™");
		}
}

public class Bus implements Movable {
		public void move() {
				System.out.println("ë„ë¡œë¥¼ í†µí•´ ì´ë™")
		}
}

public class Client {
		public static void main(String[] args) {
				Movable train = new Train();
				Movable bus = new Bus();
				
				train.move();
				bus.move();
		}
}
```

- ë²„ìŠ¤ë„ ì„ ë¡œë¡œ ì´ë™í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ë©´?
    - Bus í´ë˜ìŠ¤ì˜ move() ë©”ì†Œë“œë¥¼ ë°”ê¿”ì£¼ë©´ ëœë‹¤

### ë¬¸ì œì 

- OCP(Open-Closed Principle)ì— ìœ„ë°°: ê¸°ì¡´ì˜ move()ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë©´ì„œ í–‰ìœ„ê°€ ìˆ˜ì •ë˜ì–´ì•¼ í•¨
- ì´ëŸ° ë³€ê²½ ë°©ì‹ì€ ì‹œìŠ¤í…œì´ í™•ì¥ë˜ì—ˆì„ ë•Œ ìœ ì§€ë³´ìˆ˜ë¥¼ ì–´ë µê²Œ í•¨
    - e.g. ë„ë¡œë¡œ ì´ë™í•˜ëŠ” ìš´ì†¡ìˆ˜ë‹¨ì´ ì¶”ê°€ëœë‹¤ë©´ ë˜‘ê°™ì€ move() ë©”ì†Œë“œë¥¼ í´ë˜ìŠ¤ë§ˆë‹¤ ì„ ì–¸í•´ì•¼ í•¨

â†’ ì „ëµ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œì„ ìœ ì—°í•˜ê²Œ ë³€ê²½í•˜ê³  í™•ì¥

## ì‚¬ìš©í•˜ê¸° ì í•©í•œ ìƒí™©

- ì „ëµ ì•Œê³ ë¦¬ì¦˜ì´ ì—¬ëŸ¬ ë²„ì „ì´ë‚˜ ë³€í˜•ì´ í•„ìš”í•  ë•Œ
- ì „ëµ ì•Œê³ ë¦¬ì¦˜ì´ ë…¸ì¶œë˜ë©´ ì•ˆ ë˜ëŠ” ë°ì´í„°ì— ì ‘ê·¼í•˜ê±°ë‚˜ í™œìš©í•  ë•Œ(ìº¡ìŠí™”)
- ì•Œê³ ë¦¬ì¦˜ì˜ ë™ì‘ì´ ëŸ°íƒ€ì„ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë€Œì–´ì•¼ í•  ë•Œ

# 01. êµ¬í˜„

## 1. ì „ëµ ìƒì„±

- ìš´ì†¡ìˆ˜ë‹¨ì´ ì›€ì§ì´ëŠ” ë°©ì‹: ì„ ë¡œ, ë„ë¡œ

â†’ ë‘ ë°©ì‹ì— ëŒ€í•´ **Strategy í´ë˜ìŠ¤ ìƒì„±**(RailLoadStrategy, LoadStrategy)

- ê° ì „ëµ í´ë˜ìŠ¤ëŠ” move() ë©”ì„œë“œì— ì–´ë–¤ ê²½ë¡œë¡œ ì›€ì§ì´ëŠ”ì§€ êµ¬í˜„
- ì „ëµ í´ë˜ìŠ¤ë¥¼ ìº¡ìŠí™”í•˜ê¸° ìœ„í•´ **ì¸í„°í˜ì´ìŠ¤** ìƒì„±(MovableStrategy)
    - ë‹¤ë¥¸ ì „ëµ í´ë˜ìŠ¤ê°€ ì¶”ê°€ì ìœ¼ë¡œ í™•ì¥ë˜ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤

<img width="385" alt="Image" src="https://github.com/user-attachments/assets/2526fd13-368a-4b7f-a74c-4f8a147291a2" />

```java
public interface MovableStrategy {
		public void move();
}
```

```java
public class RailLoadStrategy implements MovableStrategy {
		public void move() {
				System.out.println("ì„ ë¡œë¥¼ í†µí•´ ì´ë™");
		}
}

public class LoadStrategy implements MovableStrategy {
		public void move() {
				System.out.println("ë„ë¡œë¥¼ í†µí•´ ì´ë™");
		}
}
```

## 2. í´ë˜ìŠ¤ ì •ì˜

- ìš´ì†¡ìˆ˜ë‹¨ì— ëŒ€í•œ í´ë˜ìŠ¤ ì •ì˜
- ì´ë™ ë°©ì‹ì„ ì§ì ‘ ë©”ì†Œë“œë¡œ êµ¬í˜„í•˜ì§€ ì•Šê³ , ì–´ë–»ê²Œ ì›€ì§ì¼ ê²ƒì¸ì§€ì— ëŒ€í•œ ì „ëµì„ ì„¤ì •

<img width="399" alt="Image" src="https://github.com/user-attachments/assets/f9e49c53-a020-4b08-bcf9-072b0268af82" />

```java
public class Moving {
		private MovableStrategy movableStrategy;
		
		public void move() {
				MovableStrategy.move();
		}
		
		public void setMovableStrategy(MovableStrategy movableStrategy) {
				this.movableStrategy = movableStrategy;
		}
}
```

```java
public class Bus extends Moving {
}

public class Train extends Moving {
}
```

## 03. í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„

- ìš´ì†¡ìˆ˜ë‹¨ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ ,
- ê° ìš´ì†¡ìˆ˜ë‹¨ì´ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ(e.g. ë„ë¡œ or ì„ ë¡œ) ì›€ì§ì´ëŠ”ì§€ ì„¤ì •

```java
public class Client {
		public static void main(String[] args) {
				// 1. context ìƒì„±
				Moving train = new Train();
				Moving bus = new Bus();
				
				// 2. ì „ëµ ì„¤ì •
				train.setMovableStrategy(new RailLoadStrategy());
				bus.setMovableStrategy(new LoadStrategy());
				
				// 3. ì „ëµ ì‹¤í–‰
				train.move();
				bus.move();
				
				// 4. ë‹¤ë¥¸ ì „ëµ ì„¤ì •
				// busì˜ ì›€ì§ì´ëŠ” ë°©ì‹ì„ ìœ ì—°í•˜ê²Œ ë³€ê²½
				bus.setMovableStrategy(new RailLoadStrategy());
				
				// 5. ë‹¤ë¥¸ ì „ëµ ì‹¤í–‰
				bus.move();
		}
}
```

<img width="708" alt="Image" src="https://github.com/user-attachments/assets/13e2b84f-5e4d-4f4b-abc5-49ecb01baf91" />

# 03. ì „ëµ íŒ¨í„´ í™œìš©

## Java

### Collections.sort()

- ì— ì˜í•´ì„œ êµ¬í˜„ë˜ëŠ” `compare()` ë©”ì„œë“œ
- ìµëª… í´ë˜ìŠ¤ë¡œ êµ¬í˜„ì²´ë¥¼ ê·¸ë•Œê·¸ë•Œ ì •ì˜í•˜ê³  ë‚´ë¶€ ë™ì‘ ë©”ì†Œë“œ ë¡œì§ì„ í• ë‹¹í•˜ëŠ” ë°©ì‹ë„ ì¼ì¢…ì˜ ì „ëµì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì§€ì •í•˜ëŠ” íŒ¨í„´ê³¼ ìœ ì‚¬í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŒ

```java
class StrategyInJava {
		public static void main(String[] args) {
				List<Integer> numbers = new ArrayList<>();
				numbers.add(2);
				numbers.add(1);
				numbers.add(3);
				numbers.add(5);
				numbers.add(4);
				
				// compare ë©”ì„œë“œê°€ ë™ì‘í•˜ëŠ” ë¡œì§(ì „ëµ)ì„ êµ¬í˜„í•˜ì—¬ ì§€ì •
				Collections.sort(numbers, new Comparator<Integer<() {
						@Override
						public int compare(Integer o1, Integer o2) {
								return o1 - o2;
						}
				});
		}
}
```

### ê·¸ ì™¸ì—ë„

- javax.servlet.http.HttpServletì˜ `service()` ë©”ì„œë“œì™€ ëª¨ë“  `doXXX()` ë©”ì„œë“œ
- javax.servlet.Filterì˜ `doFilter()` ë©”ì„œë“œ

## Spring boot

```java
public class StrategyInSpring {
    public static void main(String[] args) {
	    	// ê°ê°ì˜ ì„¤ì •ì— ë”°ë¼ ë‚˜ëˆ ì§„ ApplicationContext
        ApplicationContext applicationContext = new ClassPathXmlApplicationContext();
        ApplicationContext applicationContext1 = new FileSystemXmlApplicationContext();
        ApplicationContext applicationContext2 = new AnnotationConfigApplicationContext();

        BeanDefinitionParser parser;
        
        PlatformTransactionManager platformTransactionManager; // ë‹¤ì–‘í•œ íŠ¸ëœì­ì…˜ ê´€ë¦¬ ì „ëµ ì œê³µ

        CacheManager cacheManager; // ë‹¤ì–‘í•œ ìºì‹œ ì „ëµ ì œê³µ 
    }
}
```

# 04. ì¥ë‹¨ì 

## ì¥ì 

- ì½”ë“œê°€ ìœ ì—°í•˜ê³  í™•ì¥ì„±, ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§
- ê° ì „ëµì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

## ë‹¨ì 

- ì¶”ê°€ì ì¸ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•˜ì—¬ ì½”ë“œì˜ ë³µì¡ì„±ì•„ ë†’ì•„ì§
- ëŸ°íƒ€ì„ ì‹œì— ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ë²„í—¤ë“œ ë°œìƒ

# 05. ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

## ì „ëµ íŒ¨í„´ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

ì „ëµ íŒ¨í„´ì€ ê°ì²´ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ë°”ê¾¸ê³  ì‹¶ì€ ê²½ìš°, ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•Šê³  ì „ëµì„ ì»¨í…ìŠ¤íŠ¸ ì•ˆì—ì„œ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ë§Œë“œëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

# 06. ì°¸ê³ ìë£Œ

https://ssdragon.tistory.com/140

[https://inpa.tistory.com/entry/GOF-ğŸ’ -ì „ëµStrategy-íŒ¨í„´-ì œëŒ€ë¡œ-ë°°ì›Œë³´ì](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%A0%84%EB%9E%B5Strategy-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90)

https://victorydntmd.tistory.com/292
