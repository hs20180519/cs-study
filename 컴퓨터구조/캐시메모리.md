
## 00. 메모리 종류

1. **레지스터 (Register)**  
   - 프로세서 내부에 위치하여 주로 **즉각적인 연산을 수행하기 위한 데이터** 저장한다
   - 가장 빠르고 용량이 매우 작다 (몇 비트 ~ 몇 바이트 수준).  

2. **캐시 메모리 (Cache Memory)**  
   - 프로세서와 메인 메모리 사이에 위치해서 메인 메모리 접근 시간을 줄이는 역할을 한다.
   - 속도가 빠르고 용량은 메인 메모리보다 작음 (몇 KB ~ 수십 MB).  
   - 가격이 비싼 SRAM 으로 구성.  

3. **메인 메모리 (Main Memory)**  
   - CPU와 직접 연결된 메모리로 실행 중인 프로그램(운영체제, 응용 프로그램)과 데이터를 저장한다.
   - DRAM 으로 구성되어 캐시보다 느리지만 용량이 크다 (수 GB ~ 수십 GB).  
   - 전원이 끊기면 데이터가 소멸되는 휘발성 메모리.

4. **보조 기억 장치 (Auxiliary Memory)**  
   - 메인 메모리 외부에 위치하며, 저장 장치로 연결한다.  
   - 속도는 가장 느리지만 대용량 데이터를 저장하는데 사용한다 (수 GB ~ 수 TB 이상).  
   - 전원이 꺼져도 데이터가 유지되는 비휘발성 메모리.  
   - 가격이 저렴하며 HDD, SSD 등 포함.  


### 메모리 계층 구조
<img src="https://velog.velcdn.com/images/abc2752/post/bcc84fef-6166-43b2-8348-c481890ecbbb/image.png">

- 인접한 두 계층 사이에서만 데이터 전송이 발생한다
- 상위 계층은 속도를, 하위 계층은 용량을 담당하여 상호 보완한다.

## 메모리 계층 간 데이터 이동
### CPU ↔ 캐시 메모리
데이터가 캐시에 존재하면 "캐시 히트(Cache Hit)"가 발생하여 CPU가 바로 접근
캐시에 데이터가 없으면 "캐시 미스(Cache Miss)"가 발생하여 메인 메모리에서 데이터를 가져온다.

### 캐시 ↔ 메인 메모리
캐시 교체 정책(LRU, FIFO 등)을 사용하여 오래된 데이터를 메인 메모리로 이동하고, 새로운 데이터를 캐시에 저장한다.

### 메인 메모리 ↔ 보조 기억 장치
실행 중인 프로그램 데이터를 메인 메모리로 로드한다.
작업이 끝난 데이터는 보조 기억 장치에 저장.



## 01. 캐시 메모리

## 개념
- 프로세서와 메인 메모리 간의 속도 차이를 줄이기 위해 자주 사용되는 데이터를 임시로 저장하는 고속 메모리.
- 데이터의 지역성을 이용하여 병목 현상(프로세서와 메인 메모리 간의 속도 차이)을 줄여 전체적인 시스템의 성능을 향상시킨다.
- 용량은 작지만 속도가 매우 빠르다.


## 메모리 지역성

### 시간 지역성 (Temporal Locality)
- **개념**: 최근에 접근한 데이터에 다시 접근할 가능성이 높다.
- **예시**: for, while 과 같은 반복문에서 동일한 변수에 반복적으로 접근.

### 공간 지역성 (Spatial Locality)
- **개념**: 현재 접근한 데이터와 가까운 위치의 데이터에 접근할 가능성이 높다.
- **예시**: 배열의 연속된 요소에 순차적으로 접근.


## 02. 캐시 메모리 성능

### 캐시 히트 (Cache Hit)
- CPU가 요청한 데이터가 캐시에 있는 경우

### 캐시 미스 (Cache Miss)
- 캐시에 데이터가 없는 경우
- 메인 메모리에서 데이터를 가져와야 한다.
- Miss Penalty: 메인 메모리에서 데이터를 가져오는 데 걸리는 추가적인 시간

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcQPsmQ%2FbtqQwojNc2Y%2F4vxPowyRkS2qSOZULZCvfk%2Fimg.png">


## 03. 캐시 메모리 종류

### DRAM (Dynamic RAM)
- 전력이 끊어지면 데이터가 사라진다(휘발성).
- 저렴하며 메인 메모리로 주로 사용.

### SRAM (Static RAM)
- 전원이 켜져 있는 동안 데이터를 유지된다(비휘발성).
- 속도가 빠르지만 가격이 비싸다.
- 캐시 메모리로 주로 사용.

### L1, L2, L3 캐시 계층구조
캐시는 속도와 크기에 따라 L1, L2, L3 캐시로 구분된다.
캐시 탐색은 L1 → L2 → L3 순서로 진행되며, 데이터가 발견되지 않으면 메인 메모리에서 데이터를 가져온다.


## 04. 캐시 메모리 정책 (알고리즘)
1. **캐시 교체 정책**
   - **LRU (Least Recently Used)**: 가장 오래 사용되지 않은 데이터를 교체.
   - **FIFO (First In First Out)**: 가장 먼저 들어온 데이터를 교체.
   - **LFU (Least Frequently Used)**: 가장 적게 사용된 데이터를 교체.

2. **쓰기 정책**
   - **Write-Through**: 데이터를 캐시에 저장하면서 동시에 메인 메모리에도 저장.
   - **Write-Back**: 데이터를 캐시에만 저장하고, 캐시에서 제거될 때 메인 메모리에 저장.

## 05. 캐시 맵핑 방식
1. **직접 사상 (Direct Mapping)**
- 각 메모리 블록이 캐시의 특정 위치에만 매핑된다.
- 구현이 간단하지만 충돌 가능성이 높다.

2. **완전 연관 사상 (Fully Associative Mapping)**
- 메모리 블록이 캐시의 어느 위치에나 저장 가능하다.
- 충돌 문제는 없지만 구현이 복잡하고 검색 시간이 길어진다.

3. **집합 연관 사상 (Set-Associative Mapping)**
- 직접 사상과 완전 연관 사상의 절충안
- 캐시를 여러 집합으로 나누고, 각 집합에서 완전 연관 방식으로 저장한다.

## 06. 캐시 vs 버퍼

| 구분          | 캐시 (Cache)                              | 버퍼 (Buffer)                            |
|---------------|-------------------------------------------|------------------------------------------|
| **목적**      | 데이터 접근 속도 향상                     | 데이터 임시 저장 및 흐름 제어             |
| **위치**      | 프로세서와 메모리 사이                   | 입출력 장치와 메모리 사이                |
| **기능**      | 자주 사용하는 데이터를 저장               | 데이터의 흐름을 조율하고 전송 속도 차이 해결 |


## 07. 자주 나오는 질문
### 1. 메모리 계층 구조의 목적은 무엇인가요?
메모리 계층 구조는 속도와 비용의 균형을 맞추기 위해 설계되었습니다. 
레지스터, 캐시 메모리, 메인 메모리, 보조 기억 장치 순으로 속도는 느려지지만 용량은 증가하며, 비용은 감소합니다. 
이 계층 구조는 자주 사용되는 데이터를 상위 계층에 저장하여 시스템 성능을 최적화합니다.

### 2. 캐시 메모리에서 "지역성(Locality)"이란 무엇인가요?
지역성은 프로그램이 데이터를 접근하는 패턴을 설명하는 개념입니다.
시간 지역성(Temporal Locality): 최근에 접근한 데이터에 다시 접근할 가능성이 높다.
공간 지역성(Spatial Locality): 현재 접근한 데이터와 가까운 위치의 데이터에 접근할 가능성이 높다.
이 두 가지 특성을 활용해 캐시 메모리는 자주 사용되는 데이터를 미리 저장하여 성능을 향상시킵니다.
