# 01. 중앙처리장치(CPU)

CPU는 컴퓨터의 두뇌이다.

CPU는 메모리에 저장된 명령어를 읽어 들이고, 해석하고, 실행하는 부품이다.

![컴퓨터-구조_CPU](https://github.com/user-attachments/assets/1edd6a01-cca5-461b-af18-ff479cc7c706)

### CPU의 내부 구성 요소

- **산술논리연산장치(ALU)**
    
    =계산기
    
    계산만을 위해 존재하는  부품
    
- **레지스터**
    
    CPU 내부의 작은 임시 저장 장치
    
    프로그램 실행에 필요한 값들을 임시로 저장
    
    CPU 안에는 여러 레지스터가 존재, 각각 다른 이름과 역할을 가짐
    
- **제어장치**
    
    **제어 신호**를 내보내고, 명령어를 해석하는 장치
    
    (이 때, 제어 신호란 컴퓨터 부품들을 관리하고 작동시키기 위한 일종의 전기 신호)


# 02. CPU의 동작 과정

메모리 1번지 ~ 2번지까지 명령어가 저장되어 있는 상황

### 1)

- 제어장치는 1번지에 저장된 명령어를 읽어 들이기 위해 메모리에 ‘메모리 읽기’ 제어 신호를 보냄

![메모리-읽기-제어-신호-940x295](https://github.com/user-attachments/assets/b65360cd-aee5-4261-a0c4-a2cfcaf3dd42)

### 2)

- 1번지 메모리는 저장된 명령어를 CPU에 건네주고, 명령어가 레지스터에 저장됨
- 제어장치는 읽어 들인 명령어를 해석한 뒤 3번지와 4번지에 저장된 데이터가 필요하다 판단
- 제어장치는 3번지와 4번지에 저장된 데이터를 읽기 위해 메모리에 ‘메모리 읽기’ 제어 신호를 보냄

![메모리-읽기-제어-신호-2-1](https://github.com/user-attachments/assets/69c890fb-6a0d-4e70-87e6-c143ed5f9c30)

### 3)

- 메모리는 3번지와 4번지에 저장된 데이터를 CPU에 건네주고, 데이터들이 서로 다른 레지스터에 저장됨
- ALU는 읽어들인 데이터로 연산 수행
- 그 결과 값을 레지스터에 저장

![메모리-읽기-제어-신호-3](https://github.com/user-attachments/assets/6f2dbac5-7884-43d4-a491-a508d26aeb78)

---

### 4)

- 제어장치는 2번지에 저장된 명령어를 읽어 들이기 위해 메모리에 ‘메모리 읽기’ 제어 신호를 보냄

![메모리-읽기-제어-신호-4](https://github.com/user-attachments/assets/e5e3f30d-55b7-424d-b3ab-3f6590e1a71b)

- 메모리는 2번지에 저장된 명령어를 CPU에 건네주고, 이 명령어는 레지스터에 저장됨
- 제어장치는 이 명령어를 해석한 뒤, 메모리에 계산 결과를 저장해야 한다 판단

![메모리-읽기-제어-신호-5](https://github.com/user-attachments/assets/fcdb817b-bec2-4eb0-b2d4-1f8bbb7edb97)

- 제어장치는 계산 경과를 저장하기 위해 메모리에 ‘메모리 쓰기’ 제어 신호와 함께 계산 결과인 220을 보냄
- 메모리에 계산 결과 저장!

![메모리-쓰기-제어-신호](https://github.com/user-attachments/assets/322461d8-2082-4b7d-b413-711322376cc7)

# 03. 명령어 사이클

CPU는 프로그램 실행을 위해 주기억장치에서 명령어를 순차적으로 인출하여 해독하고 실행하는 과정을 반복함

**명령어 사이클**이란, CPU가 주기억장치에서 한 번에 하나의 명령어를 인출하여 실행하는데 필요한 일련의 활동

**인출/실행/간접/인터럽트 사이클**로 나뉨

![명령어 사이클](https://github.com/user-attachments/assets/e3d0cae8-7964-45eb-a20d-8ec97c3baad6)

### 명령어 인출 사이클

```
T0: MAR <- PC
T1: MBR <- M[MAR], PC <- PC + 1
T2: IR <- MBR
```

T0

- PC 안에 있는 명령어 주소를 MAR로 전달

T1

- 저장된 내용을 토대로 주기억장치의 해당 주소에서 명령어 인출
- PC 값 1 증가

T2

- MBR에 저장된 내용을 IR에 전달

![명령어 인출 사이클](https://github.com/user-attachments/assets/f2d1bb63-f209-4745-808c-57da0cf4d2e0)

### 명령어 실행 사이클

실행 사이클은 CPU로 가져온 명령어를 실행하는 단계

실행 사이클에서 수행되는 마이크로 연산들은 명령어의 연산코드(operation code)에 따라 결정

예시) **데이터의 처리(ADD addr 명령어)**

```
T0 : MAR ← IR(Addr)
T1 : MBR ← M[MAR]
T2 : AC ← AC + MBR
```

⇒ 기억 장치에 저장된 데이터를 AC의 내용과 더하고, 그 결과를 다시 AC에 저장하는 명령어
