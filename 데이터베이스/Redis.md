# 01. Redis

> REmote DIctionary Server

Redis는 인메모리 기반의 오픈 소스 키-값 데이터 스토어로, 고성능이 요구되는 다양한 애플리케이션에서 널리 사용된다.

</br>

# 02. 특징

- **빠른 성능**: 모든 데이터를 메모리에 저장하여 1ms 미만의 응답 시간 제공
- **다양한 데이터 구조**: 문자열, 리스트, 세트, 해시 등 다양한 구조를 지원
- **복제 및 내구성**: 마스터-슬레이브 복제, 스냅샷 및 AOF를 통한 데이터 보호
- **확장성**: 수평적 확장 및 다양한 개발 언어 지원
- **싱글 스레드 아키텍처**: 레디스의 코어스레드는 싱글 스레드로 효율적인 시스템 리소스 사용

⇒ 보통 데이터베이스는 하드 디스크나 SSD에 저장하는 반면, Redis는 메모리(RAM)에 저장해서 디스크 스캐닝이 필요없어 매우 빠른 장점

⇒ 메모리에 저장하기 때문에 저장 공간에 제약이 있는 것이 단점

</br>

# 03. Redis 영속성 - 안정성을 위한 백업 방식

레디스는 지속성을 보장하기 위해 데이터를 DISK에 저장할 수 있다. 서버가 내려가더라도 DISK에 저장된 데이터를 읽어서 메모리에 로딩한다.

## RDB (Redis Database) - 스냅샷

- 특정 시점에 Redis 데이터를 디스크에 저장하는 방식
- 주기적으로 메모리의 상태를 파일로 덤프하여 백업함

## AOF (Append Only File)

- 데이터가 변경되는 이벤트 발생 시 파일에 기록해 지속적으로 데이터를 저장
- 데이터를 생성, 수정, 삭제 하는 이벤트를 초 단위로 취합 및 로그 파일에 작성
- 이를 통해 최근 데이터까지 복구할 수 있어, 스냅샷보다 더 강력한 내구성을 보장
- RDB 방식에 비해 데이터 유실량이 적음(초 단위 데이터는 유실 가능)

⇒ Redis는 일반적으로 AOF와 RDB를 동시에 사용하여 데이터를 백업한다

</br>

# 04. Redis의 사용 용도

## 주 데이터 저장소

Redis는 빠른 인메모리 성능을 이용해 데이터베이스로 사용된다. 주로 빠른 읽기/쓰기 작업이 필요한 서비스에서 적합하다.

## 캐싱

주요 데이터에 빠르게 접근할 수 있도록 캐시로 많이 사용되며, 서버 부하를 줄이고 응답 속도를 크게 향상시킨다.

## 세션 관리

웹 애플리케이션에서 사용자 세션을 저장하고 관리하는 데 사용된다. Redis는 세션 정보를 메모리에 저장하여 빠르게 조회할 수 있어, 세션 만료 및 유지관리가 효율적이다.

## 채팅 및 메시징

Redis는 Pub/Sub(발행/구독) 기능을 제공해 실시간 채팅이나 알림 시스템과 같은 메시징 시스템에 적합하다. 빠른 성능과 높은 처리량 덕분에 메시지 지연을 최소화할 수 있다.

## 분산 락

분산 시스템에서 여러 프로세스가 동일한 자원에 접근하지 않도록(데드 락 방지) Redis를 분산 락으로 사용 가능. 

</br>

# 05. Redis 자료 구조

레디스는 다양한 형태의 자료 구조를 제공한다.

기본적으로 key-value 형태의 구조를 띠며, Value가 사용하는 자료 구조에 따라 여러 기능을 사용할 수 있다.

![image6](https://github.com/user-attachments/assets/afc8968b-e0ed-41e4-bdc2-a49220db4e5b)

1. **Strings**: 기본적인 키-값 쌍을 저장한다.
2. **Lists**: 순서가 있는 값들의 컬렉션으로 대기열과 스택에 유용하다.
3. **Sets**: 중복 없는 값들의 집합을 지원하며, 집합 연산에 적합하다.
4. **Sorted Sets(ZSet)**: 데이터와 스코어를 함께 저장해 순서대로 정렬한다.
5. **Hashes**: 필드-값 쌍을 저장해 객체형 데이터를 관리한다.
6. **Bitmaps:** 비트 단위 데이터를 처리한다.
7. **HyperLogLogs**: 중복 데이터를 추정하여 계산한다.

</br>

# 06. 자주 나오는 질문 정리

### 1. Redis란 무엇인가?

Redis는 고성능의 키-값 저장소로서 String, list, hash, set, sorted set 등의 자료 구조를 지원하는 NoSQL입니다.

### 2. Redis는 언제 사용하는가?

DB, Cache, Message Queue, Shared Memory 용도로 사용될 수 있습니다. 주로 Cache 서버를 구현할 때 많이 사용합니다.

### 3. **Redis는 어떻게 영속성을 보장하는가?**

RDB(스냅샷) 방식은 주기적으로 메모리 데이터를 디스크에 저장하여 데이터 복구를 돕는 방식입니다. 

AOF 방식은  각 쓰기 연산을 파일에 기록하며, 실시간으로 데이터를 보존해 더 높은 내구성을 제공합니다. 

### 참조

- [https://aws.amazon.com/ko/elasticache/what-is-redis/](https://aws.amazon.com/ko/elasticache/what-is-redis/)
- [https://velog.io/@banggeunho/레디스Redis-알고-쓰자.-정의-저장방식-아키텍처-자료구조-유효-기간](https://velog.io/@banggeunho/%EB%A0%88%EB%94%94%EC%8A%A4Redis-%EC%95%8C%EA%B3%A0-%EC%93%B0%EC%9E%90.-%EC%A0%95%EC%9D%98-%EC%A0%80%EC%9E%A5%EB%B0%A9%EC%8B%9D-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-%EC%9C%A0%ED%9A%A8-%EA%B8%B0%EA%B0%84)
- [https://steady-coding.tistory.com/586](https://steady-coding.tistory.com/586)
